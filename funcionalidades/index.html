
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../uso/">
      
      
        <link rel="next" href="../arquitetura/">
      
      
      <link rel="icon" href="../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.26">
    
    
      
        <title>Funcionalidades - FinanceFlow</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#funcionalidades" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="FinanceFlow" class="md-header__button md-logo" aria-label="FinanceFlow" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FinanceFlow
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Funcionalidades
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Introdução

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../visao_geral/" class="md-tabs__link">
        
  
    
  
  Visão Geral

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../instalacao/" class="md-tabs__link">
        
  
    
  
  Instalação

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../uso/" class="md-tabs__link">
        
  
    
  
  Uso

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Funcionalidades

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../arquitetura/" class="md-tabs__link">
          
  
  Desenvolvimento

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../tecnologias/" class="md-tabs__link">
        
  
    
  
  Tecnologias

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../faq/" class="md-tabs__link">
        
  
    
  
  FAQ

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../creditos/" class="md-tabs__link">
        
  
    
  
  Créditos

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FinanceFlow" class="md-nav__button md-logo" aria-label="FinanceFlow" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    FinanceFlow
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introdução
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../visao_geral/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visão Geral
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../instalacao/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalação
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../uso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Uso
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Funcionalidades
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Funcionalidades
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#paineis-analiticos-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Painéis Analíticos (Dashboard)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Painéis Analíticos (Dashboard)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componentes-do-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes do Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#otimizacao-e-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Otimização e Performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-de-insights" class="md-nav__link">
    <span class="md-ellipsis">
      API de Insights
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operacoes-de-saque-e-emprestimos" class="md-nav__link">
    <span class="md-ellipsis">
      Operações de Saque e Empréstimos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operações de Saque e Empréstimos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelo-operacaosaque" class="md-nav__link">
    <span class="md-ellipsis">
      Modelo OperacaoSaque
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logica-de-negocio" class="md-nav__link">
    <span class="md-ellipsis">
      Lógica de Negócio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interface-de-gerenciamento" class="md-nav__link">
    <span class="md-ellipsis">
      Interface de Gerenciamento
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestao-de-lembretes-financeiros" class="md-nav__link">
    <span class="md-ellipsis">
      Gestão de Lembretes Financeiros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestão de Lembretes Financeiros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelo-lembrete" class="md-nav__link">
    <span class="md-ellipsis">
      Modelo Lembrete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interface-e-funcionalidades" class="md-nav__link">
    <span class="md-ellipsis">
      Interface e Funcionalidades
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acao-de-alternar-status" class="md-nav__link">
    <span class="md-ellipsis">
      Ação de Alternar Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csrf_exempt" class="md-nav__link">
    <span class="md-ellipsis">
      @csrf_exempt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cadastro-e-gerenciamento-de-contas-bancarias" class="md-nav__link">
    <span class="md-ellipsis">
      Cadastro e Gerenciamento de Contas Bancárias
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cadastro e Gerenciamento de Contas Bancárias">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelo-contabancaria" class="md-nav__link">
    <span class="md-ellipsis">
      Modelo ContaBancaria
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operacoes-crud" class="md-nav__link">
    <span class="md-ellipsis">
      Operações CRUD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validacoes" class="md-nav__link">
    <span class="md-ellipsis">
      Validações
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apis-e-endpoints-auxiliares" class="md-nav__link">
    <span class="md-ellipsis">
      APIs e Endpoints Auxiliares
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fluxo-de-entradas-receitas-e-saidas-despesas" class="md-nav__link">
    <span class="md-ellipsis">
      Fluxo de Entradas (Receitas) e Saídas (Despesas)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fluxo de Entradas (Receitas) e Saídas (Despesas)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entradas-receitas" class="md-nav__link">
    <span class="md-ellipsis">
      Entradas (Receitas)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saidas-despesas" class="md-nav__link">
    <span class="md-ellipsis">
      Saídas (Despesas)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acoes-rapidas" class="md-nav__link">
    <span class="md-ellipsis">
      Ações Rápidas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formularios-e-interacao" class="md-nav__link">
    <span class="md-ellipsis">
      Formulários e Interação
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transferencias-internas-e-regras-de-consistencia-de-saldos" class="md-nav__link">
    <span class="md-ellipsis">
      Transferências Internas e Regras de Consistência de Saldos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transferências Internas e Regras de Consistência de Saldos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelo-transferencia" class="md-nav__link">
    <span class="md-ellipsis">
      Modelo Transferencia
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#garantia-de-atomicidade" class="md-nav__link">
    <span class="md-ellipsis">
      Garantia de Atomicidade
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logica-de-atualizacao-de-saldo" class="md-nav__link">
    <span class="md-ellipsis">
      Lógica de Atualização de Saldo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autenticacao-e-perfis-de-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Autenticação e Perfis de Usuário
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autenticação e Perfis de Usuário">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fluxo-de-autenticacao" class="md-nav__link">
    <span class="md-ellipsis">
      Fluxo de Autenticação
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perfil-do-usuario-profile" class="md-nav__link">
    <span class="md-ellipsis">
      Perfil do Usuário (Profile)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gerenciamento-de-perfil" class="md-nav__link">
    <span class="md-ellipsis">
      Gerenciamento de Perfil
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apis-relacionadas" class="md-nav__link">
    <span class="md-ellipsis">
      APIs Relacionadas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Desenvolvimento
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Desenvolvimento
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arquitetura/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arquitetura
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dados.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelagem de Dados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testes.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tecnologias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tecnologias
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../creditos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Créditos
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="funcionalidades">Funcionalidades</h1>
<h2 id="paineis-analiticos-dashboard">Painéis Analíticos (Dashboard)</h2>
<p>A view <code>dashboard</code> (<code>/dashboard/</code>) é o principal centro de inteligência do sistema, oferecendo uma visão consolidada e analítica da saúde financeira do usuário.</p>
<p>Devido à sua complexidade e ao grande volume de dados processados, esta é uma das views mais críticas em termos de performance.</p>
<h3 id="componentes-do-dashboard">Componentes do Dashboard</h3>
<p>A view agrega e processa dados para exibir:</p>
<ol>
<li>
<p><strong>Cards de Resumo:</strong></p>
<ul>
<li>Saldo total atual.</li>
<li>Total de receitas e despesas do mês.</li>
<li>Variação percentual de receitas/despesas em relação ao mês anterior.</li>
<li>Status da reserva de emergência.</li>
</ul>
</li>
<li>
<p><strong>Gráficos Históricos:</strong></p>
<ul>
<li>Evolução de receitas, despesas e saldo acumulado ao longo dos últimos 12 meses.</li>
</ul>
</li>
<li>
<p><strong>Projeção Futura (Regressão Linear):</strong></p>
<ul>
<li>Utilizando a biblioteca <code>scikit-learn</code>, a view treina um modelo de regressão linear simples com os dados dos últimos meses.</li>
<li>Com base nesse modelo, projeta as tendências de receitas, despesas e saldo para os próximos 6 meses.</li>
<li><strong>Dependência:</strong> <code>numpy</code>, <code>scikit-learn</code>.</li>
</ul>
</li>
<li>
<p><strong>Análise de Despesas:</strong></p>
<ul>
<li>Gráfico de pizza mostrando a distribuição de despesas por categoria no mês atual.</li>
<li>Gráfico comparativo de despesas fixas vs. variáveis.</li>
</ul>
</li>
<li>
<p><strong>Análise Comportamental:</strong></p>
<ul>
<li>Gráfico de barras mostrando o total de gastos por dia da semana, ajudando a identificar padrões de consumo.</li>
</ul>
</li>
<li>
<p><strong>Indicadores de Saúde Financeira:</strong></p>
<ul>
<li><strong>Liquidez Corrente:</strong> Capacidade de cobrir despesas de curto prazo.</li>
<li><strong>Margem de Segurança:</strong> Percentual da renda que sobra após as despesas.</li>
<li><strong>Nível de Endividamento:</strong> Percentual do limite de crédito que está sendo utilizado.</li>
</ul>
</li>
</ol>
<h3 id="otimizacao-e-performance">Otimização e Performance</h3>
<p>A view <code>dashboard</code> executa um número significativo de consultas ao banco de dados. Para otimizar:</p>
<ul>
<li><strong>Consultas:</strong> As consultas são feitas usando <code>aggregate(Sum(...))</code> para que o banco de dados realize os cálculos, o que é mais eficiente do que trazer os objetos para o Python e somá-los.</li>
<li><strong>Serialização:</strong> Todos os dados para os gráficos são coletados, processados e passados para o template como um único objeto JSON (<code>dados_graficos_json</code>). O JavaScript no lado do cliente é responsável por ler este JSON e renderizar os gráficos (usando uma biblioteca como Chart.js, por exemplo).</li>
</ul>
<h3 id="api-de-insights">API de Insights</h3>
<ul>
<li><strong>Endpoint:</strong> <code>GET /api/insights/</code></li>
<li><strong>View:</strong> <code>financial_insights_api</code></li>
<li><strong>Funcionalidade:</strong> Esta API complementar fornece insights rápidos e acionáveis em formato de texto, como "Sua reserva de emergência está baixa" ou "Sua taxa de economia este mês foi de 20%", ideal para ser exibido em um widget no painel.</li>
</ul>
<h2 id="operacoes-de-saque-e-emprestimos">Operações de Saque e Empréstimos</h2>
<p>Este módulo é destinado ao rastreamento de operações de crédito mais complexas, como empréstimos ou adiantamentos (saque-aniversário do FGTS, etc.), que envolvem parcelas e taxas.</p>
<h3 id="modelo-operacaosaque">Modelo <code>OperacaoSaque</code></h3>
<p>O modelo <code>core.models.OperacaoSaque</code> armazena os detalhes dessas operações:</p>
<ul>
<li><code>proprietario</code>: <code>ForeignKey</code> para o <code>User</code>.</li>
<li><code>nome_banco</code>: A instituição financeira.</li>
<li><code>tipo_operacao</code>: <code>CharField</code> com <code>choices</code> para definir o tipo (ex: 'Empréstimo Pessoal', 'Saque FGTS').</li>
<li><code>data_contratacao</code>: Data em que a operação foi realizada.</li>
<li><code>valor_saque</code>: O valor total da operação.</li>
<li><code>valor_financiado</code>, <code>valor_iof</code>: Campos para detalhar custos.</li>
<li><code>valor_liberado_cliente</code>: O valor líquido que o cliente recebeu.</li>
<li><strong>Detalhes do Parcelamento:</strong></li>
<li><code>quantidade_parcelas</code></li>
<li><code>valor_parcela</code></li>
<li><code>data_inicio_parcelas</code></li>
<li><code>data_termino_parcelas</code></li>
</ul>
<h3 id="logica-de-negocio">Lógica de Negócio</h3>
<p>O método <code>save()</code> do modelo contém uma lógica para calcular automaticamente a data de término do parcelamento se a data de início e a quantidade de parcelas forem fornecidas, utilizando a biblioteca <code>dateutil</code>.</p>
<pre><code class="language-python"># Em core/models.py
from dateutil.relativedelta import relativedelta

class OperacaoSaque(models.Model):
    # ...
    def save(self, *args, **kwargs):
        # ...
        if self.data_inicio_parcelas and self.quantidade_parcelas:
            self.data_termino_parcelas = self.data_inicio_parcelas + relativedelta(months=self.quantidade_parcelas)

        super().save(*args, **kwargs)
</code></pre>
<h3 id="interface-de-gerenciamento">Interface de Gerenciamento</h3>
<p>A página <code>/operacoes-saque/</code> (<code>operacao_saque_list</code>) permite ao usuário visualizar e gerenciar todas as suas operações de saque.</p>
<ul>
<li><strong>Listagem e Filtros:</strong> As operações são listadas e podem ser filtradas por ano, mês e tipo de operação.</li>
<li><strong>Estatísticas:</strong> Cards no topo da página exibem o valor total sacado, o valor médio por operação e o total líquido liberado ao cliente.</li>
<li><strong>CRUD via AJAX:</strong> Assim como outros módulos do sistema, a criação, edição e exclusão de operações são feitas através de modais e requisições AJAX, proporcionando uma experiência de usuário ágil.</li>
</ul>
<h2 id="gestao-de-lembretes-financeiros">Gestão de Lembretes Financeiros</h2>
<p>O módulo de lembretes permite que o usuário cadastre datas e eventos importantes para não perder prazos de pagamentos ou outras obrigações financeiras.</p>
<h3 id="modelo-lembrete">Modelo <code>Lembrete</code></h3>
<p>O modelo <code>core.models.Lembrete</code> é simples e direto:</p>
<ul>
<li><code>user</code>: <code>ForeignKey</code> para o usuário dono do lembrete.</li>
<li><code>titulo</code>: Um título curto para o lembrete.</li>
<li><code>descricao</code>: Um campo de texto opcional para mais detalhes.</li>
<li><code>data_limite</code>: A data final para o lembrete.</li>
<li><code>concluido</code>: Um <code>BooleanField</code> para marcar o lembrete como concluído.</li>
</ul>
<h3 id="interface-e-funcionalidades">Interface e Funcionalidades</h3>
<p>A gestão de lembretes é feita na página <code>/lembretes/</code> (<code>lembrete_list</code>) e é totalmente orientada a AJAX para uma experiência fluida.</p>
<ul>
<li><strong>Listagem:</strong> Os lembretes são listados em ordem de <code>data_limite</code>.</li>
<li><strong>Criação:</strong> Um formulário em um modal permite a criação de novos lembretes.</li>
<li><strong>Edição e Exclusão:</strong> Ações rápidas disponíveis para cada lembrete na lista.</li>
</ul>
<h3 id="acao-de-alternar-status">Ação de Alternar Status</h3>
<p>A funcionalidade mais interativa é a de marcar um lembrete como concluído diretamente na lista.</p>
<ul>
<li><strong>Endpoint:</strong> <code>POST /lembretes/alternar-status/</code></li>
<li>
<p><strong>View:</strong> <code>alternar_status_lembrete</code></p>
</li>
<li>
<p>O usuário clica em uma checkbox ao lado do lembrete.</p>
</li>
<li>Uma requisição <code>POST</code> via JavaScript é enviada para a API, contendo o ID do lembrete e o novo status (<code>true</code> ou <code>false</code>).</li>
<li>A view atualiza o campo <code>concluido</code> no banco de dados.</li>
<li>A interface é atualizada visualmente (ex: o texto do lembrete é riscado) sem a necessidade de recarregar a página.</li>
</ul>
<h3 id="csrf_exempt"><code>@csrf_exempt</code></h3>
<p>A view <code>alternar_status_lembrete</code> utiliza o decorador <code>@csrf_exempt</code>. Isso é feito para simplificar a chamada AJAX a partir do JavaScript. </p>
<p><strong>Nota de Segurança:</strong> Embora simplifique o desenvolvimento, o uso de <code>@csrf_exempt</code> deve ser feito com cautela. Neste caso, o risco é baixo, pois a ação (marcar um lembrete como concluído) é idempotente e restrita ao usuário logado (<code>request.user</code>). No entanto, para ações mais sensíveis, seria preferível enviar o token CSRF no cabeçalho da requisição AJAX.</p>
<h2 id="cadastro-e-gerenciamento-de-contas-bancarias">Cadastro e Gerenciamento de Contas Bancárias</h2>
<p>O gerenciamento de contas é uma funcionalidade central do sistema, permitindo que o usuário cadastre todas as suas contas financeiras, sejam elas contas correntes, poupanças ou cartões.</p>
<h3 id="modelo-contabancaria">Modelo <code>ContaBancaria</code></h3>
<p>O modelo <code>core.models.ContaBancaria</code> possui os seguintes campos importantes:</p>
<ul>
<li><code>proprietario</code>: <code>ForeignKey</code> para o <code>User</code>.</li>
<li><code>nome_banco</code>: <code>CharField</code> com <code>choices</code> vindos de <code>core.choices.BANCO_CHOICES</code>.</li>
<li><code>tipo</code>: <code>CharField</code> com <code>choices</code> como 'corrente', 'poupanca', 'credito', etc.</li>
<li><code>saldo_atual</code>: <code>DecimalField</code> para o saldo da conta.</li>
<li><code>ativa</code>: <code>BooleanField</code> para ativar ou desativar uma conta.</li>
<li><strong>Campos de Cartão de Crédito:</strong> <code>limite_cartao</code>, <code>dia_fechamento_fatura</code>, <code>dia_vencimento_fatura</code>.</li>
</ul>
<h3 id="operacoes-crud">Operações CRUD</h3>
<p>O sistema oferece um CRUD (Create, Read, Update, Delete) completo para contas, com forte integração AJAX.</p>
<ul>
<li>
<p><strong>Listagem (<code>/contas/</code>):</strong> A view <code>conta_list</code> exibe todas as contas do usuário, com filtros por tipo, status, titular e banco. A página também apresenta estatísticas como saldo total e número de contas ativas/inativas.</p>
</li>
<li>
<p><strong>Criação (<code>/contas/nova/</code>):</strong> A criação de contas pode ser feita através de um modal na página de listagem, que envia os dados via AJAX para a view <code>conta_create</code>. Isso evita um recarregamento da página.</p>
</li>
<li>
<p><strong>Atualização (<code>/contas/&lt;int:pk&gt;/editar/</code>):</strong> A edição também é feita via AJAX, pré-preenchendo os dados da conta em um modal.</p>
</li>
<li>
<p><strong>Exclusão (<code>/contas/&lt;int:pk&gt;/excluir/</code>):</strong> A exclusão requer confirmação e também é processada via AJAX.</p>
</li>
</ul>
<h3 id="validacoes">Validações</h3>
<p>O modelo <code>ContaBancaria</code> possui validações no método <code>clean()</code> para garantir a integridade dos dados:</p>
<ul>
<li>Contas do tipo <code>corrente</code> ou <code>poupanca</code> exigem que os campos <code>agencia</code> and <code>numero_conta</code> sejam preenchidos.</li>
<li>Outros tipos de conta, como cartões, não devem ter o campo <code>agencia</code> preenchido.</li>
</ul>
<h3 id="apis-e-endpoints-auxiliares">APIs e Endpoints Auxiliares</h3>
<ul>
<li><code>GET /get_banco_code/</code>: Uma pequena API que retorna o código de um banco com base no seu nome.</li>
<li><code>GET /get-account-balance/&lt;int:pk&gt;/</code>: Retorna o saldo de uma conta específica, usado para atualizar dinamicamente a interface.</li>
</ul>
<h2 id="fluxo-de-entradas-receitas-e-saidas-despesas">Fluxo de Entradas (Receitas) e Saídas (Despesas)</h2>
<p>O registro de transações é a operação mais frequente no sistema. O fluxo é otimizado para ser rápido e eficiente, com uso intensivo de modais e AJAX.</p>
<h3 id="entradas-receitas">Entradas (Receitas)</h3>
<p>O modelo <code>Entrada</code> é mais simples e representa qualquer dinheiro que entra em uma conta.</p>
<ul>
<li><strong>Campos:</strong> <code>usuario</code>, <code>conta_bancaria</code>, <code>nome</code>, <code>valor</code>, <code>data</code>, <code>forma_recebimento</code>.</li>
<li><strong>Validação:</strong> O método <code>clean()</code> impede o registro de entradas com data futura.</li>
<li><strong>Listagem (<code>/entradas/</code>):</strong> A página <code>entrada_list</code> exibe todas as receitas, com filtros por ano, mês, conta e forma de recebimento. Cards no topo da página mostram totais, saldo residual e variação mensal.</li>
</ul>
<h3 id="saidas-despesas">Saídas (Despesas)</h3>
<p>O modelo <code>Saida</code> é mais complexo para acomodar diferentes tipos de despesas.</p>
<ul>
<li><strong>Campos Adicionais:</strong></li>
<li><code>data_vencimento</code>: Data de vencimento da despesa.</li>
<li><code>categoria</code>, <code>subcategoria</code>: Para classificação.</li>
<li><code>forma_pagamento</code>, <code>tipo_pagamento_detalhe</code> (à vista, parcelado).</li>
<li><code>situacao</code> ('pago', 'pendente').</li>
<li><code>quantidade_parcelas</code>, <code>valor_parcela</code>.</li>
<li>
<p><code>recorrente</code> (única, mensal, anual).</p>
</li>
<li>
<p><strong>Validações Críticas (no método <code>clean()</code>):</strong></p>
</li>
<li>Para pagamentos parcelados, a quantidade de parcelas deve ser maior que 1.</li>
<li>A soma das parcelas não pode ter uma diferença maior que R$ 0,01 em relação ao valor total (para lidar com arredondamentos).</li>
<li>
<p>Despesas recorrentes não podem ser parceladas.</p>
</li>
<li>
<p><strong>Listagem (<code>/saidas/</code>):</strong> A página <code>saida_list</code> permite filtrar despesas por período (mês/ano) e status. Ela também inclui estatísticas como total pago vs. pendente e variação em relação ao mês anterior.</p>
</li>
</ul>
<h3 id="acoes-rapidas">Ações Rápidas</h3>
<ul>
<li><strong>Marcar como Pago:</strong> Na lista de saídas, há um botão para marcar uma despesa como <code>paga</code> sem sair da página. Esta ação é tratada pela <code>MarcarComoPagoView</code> através de uma requisição <code>POST</code> via AJAX.</li>
<li><strong>Endpoint:</strong> <code>POST /saidas/&lt;int:saida_id&gt;/marcar-pago/</code></li>
</ul>
<h3 id="formularios-e-interacao">Formulários e Interação</h3>
<p>Tanto para entradas quanto para saídas, os formulários de criação e edição são renderizados em modais e submetidos via AJAX. As views (<code>entrada_create</code>, <code>saida_create</code>, etc.) são projetadas para responder tanto a requisições normais (com recarregamento de página) quanto a requisições AJAX, retornando <code>JsonResponse</code> com mensagens de sucesso ou listas de erros de validação.</p>
<h2 id="transferencias-internas-e-regras-de-consistencia-de-saldos">Transferências Internas e Regras de Consistência de Saldos</h2>
<p>A funcionalidade de transferência permite ao usuário mover fundos entre suas próprias contas cadastradas. A principal preocupação nesta operação é garantir a <strong>atomicidade</strong> e a <strong>consistência</strong> dos saldos.</p>
<h3 id="modelo-transferencia">Modelo <code>Transferencia</code></h3>
<p>O modelo <code>core.models.Transferencia</code> é composto por:</p>
<ul>
<li><code>usuario</code>: O usuário que realiza a transferência.</li>
<li><code>conta_origem</code>: <code>ForeignKey</code> para <code>ContaBancaria</code> de onde o dinheiro sai.</li>
<li><code>conta_destino</code>: <code>ForeignKey</code> para <code>ContaBancaria</code> para onde o dinheiro vai.</li>
<li><code>valor</code>: <code>DecimalField</code> com o montante da transferência.</li>
<li><code>data</code>: A data em que a transferência foi realizada.</li>
</ul>
<h3 id="garantia-de-atomicidade">Garantia de Atomicidade</h3>
<p>Uma transferência envolve duas operações de atualização no banco de dados: subtrair o saldo da conta de origem e adicionar o saldo à conta de destino. Se uma dessas operações falhar, a outra não pode ser concluída, pois isso deixaria os dados em um estado inconsistente (dinheiro "desapareceria" ou seria "criado" do nada).</p>
<p>Para resolver isso, todas as views que manipulam transferências (<code>transferencia_create</code>, <code>transferencia_update</code>, <code>transferencia_delete</code>) são decoradas com <code>@transaction.atomic</code>.</p>
<pre><code class="language-python">from django.db import transaction

@login_required
@transaction.atomic
def transferencia_create(request):
    # ... lógica da view ...
</code></pre>
<p>Este decorador garante que todas as operações de banco de dados dentro da view sejam executadas em uma única transação. Se qualquer erro ocorrer, a transação inteira sofre um <em>rollback</em>, e nenhuma alteração é salva no banco de dados.</p>
<h3 id="logica-de-atualizacao-de-saldo">Lógica de Atualização de Saldo</h3>
<p>A lógica de negócio para atualizar os saldos reside no método <code>save()</code> do modelo <code>Transferencia</code>.</p>
<pre><code class="language-python"># Em core/models.py
class Transferencia(BaseModel):
    # ... campos ...

    def save(self, *args, **kwargs):
        # A lógica só é aplicada para novas transferências
        if not self.pk:
            # Atualiza os saldos das contas
            self.conta_origem.saldo_atual -= self.valor
            self.conta_destino.saldo_atual += self.valor

            self.conta_origem.save()
            self.conta_destino.save()

        super().save(*args, **kwargs)
</code></pre>
<ul>
<li>Ao <strong>criar</strong> uma transferência, o saldo é debitado da origem e creditado no destino.</li>
<li>Ao <strong>excluir</strong>, a view <code>transferencia_delete</code> executa a lógica inversa: o valor é devolvido à conta de origem e removido da conta de destino antes de a transferência ser apagada.</li>
<li>A <strong>atualização</strong> é a operação mais complexa: ela primeiro reverte a transação antiga e depois aplica a nova, tudo dentro de um bloco <code>atomic</code>.</li>
</ul>
<h2 id="autenticacao-e-perfis-de-usuario">Autenticação e Perfis de Usuário</h2>
<p>O sistema possui um fluxo completo de autenticação e gerenciamento de perfis, utilizando o sistema de autenticação nativo do Django e estendendo-o com um modelo de perfil personalizado.</p>
<h3 id="fluxo-de-autenticacao">Fluxo de Autenticação</h3>
<ul>
<li><strong>Registro:</strong> Novos usuários podem se registrar através da página <code>/register</code>. A view <code>core.views.register</code> utiliza o <code>CustomUserCreationForm</code> para criar um novo <code>User</code>.</li>
<li><strong>Login:</strong> A autenticação é feita na página <code>/login</code>, usando a <code>LoginView</code> nativa do Django. Após o login, o usuário é redirecionado para o <code>dashboard</code>.</li>
<li><strong>Logout:</strong> A rota <code>/logout</code> (<code>custom_logout</code>) encerra a sessão do usuário e exibe uma mensagem de sucesso.</li>
<li><strong>Reset de Senha:</strong> O fluxo completo de recuperação de senha está implementado usando as views nativas do Django (<code>PasswordResetView</code>, etc.), com templates personalizados.</li>
</ul>
<h3 id="perfil-do-usuario-profile">Perfil do Usuário (<code>Profile</code>)</h3>
<p>O modelo <code>Profile</code> (<code>core/models.py</code>) estende o modelo <code>User</code> com uma relação <code>OneToOneField</code> para armazenar informações adicionais.</p>
<ul>
<li><strong>Campos Principais:</strong></li>
<li><code>foto_perfil</code>: <code>ImageField</code> para a foto do usuário. O sistema redimensiona a imagem para 300x300 pixels no upload e remove a foto antiga para economizar espaço.</li>
<li><code>theme</code>: Permite que o usuário escolha um tema (<code>light</code>, <code>dark</code>, <code>auto</code>).</li>
<li><code>login_streak</code>, <code>total_logins</code>: Campos para gamificação, rastreando a frequência de acesso.</li>
</ul>
<h3 id="gerenciamento-de-perfil">Gerenciamento de Perfil</h3>
<p>A página de perfil (<code>/profile/</code>) permite ao usuário:</p>
<ul>
<li><strong>Atualizar Informações:</strong> Alterar nome, sobrenome e e-mail através do <code>UserUpdateForm</code>.</li>
<li><strong>Alterar Foto:</strong> Fazer upload de uma nova foto de perfil ou remover a foto existente (<code>ProfileUpdateForm</code>).</li>
<li><strong>Mudar Senha:</strong> Alterar a senha de forma segura (<code>PasswordChangeForm</code>).</li>
<li><strong>Excluir Conta:</strong> Uma opção para excluir permanentemente a conta, com uma etapa de confirmação para segurança.</li>
</ul>
<h3 id="apis-relacionadas">APIs Relacionadas</h3>
<p>Diversas ações no perfil são realizadas via AJAX para uma melhor experiência do usuário:</p>
<ul>
<li><code>POST /api/profile/update-info/</code>: Atualiza dados básicos do usuário.</li>
<li><code>POST /api/profile/update-photo/</code>: Atualiza a foto de perfil.</li>
<li><code>GET /api/profile/statistics/</code>: Fornece dados para um painel de estatísticas do usuário (dias de acesso, etc.).</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  </body>
</html>